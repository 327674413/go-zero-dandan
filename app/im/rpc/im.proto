// Code generated by goctl. DO NOT EDIT.
syntax = "proto3";
	
option go_package = "./imRpc";

package im;

message EmptyReq{}
message ChatLog {
	 string id = 1;
	 string conversationId = 2;
	 string sendId = 3;
	 string recvId = 4;
	 int64 msgType = 5;
	 string msgContent = 6;
	 int64 chatType = 7;
	 string sendTime = 8;
	 int64 sendAtMs = 9;
	 bytes msgReads = 10;
	 int64 msgState = 11;
}
message Conversation {
	 string conversationId = 1;
	 int64 chatType = 2;
	 string targetId = 3;
	 bool isShow = 4;
	 int64 readSeq = 5;
	 int64 deleteSeq = 6;
	 int64 total = 7;
	 int64 unread = 8;
	 int64 read = 9;
	 ChatLog lastMsg = 10;
	 int64 lastAtMs = 11;
}
message GetConversationsReq {
	optional string userId = 1;
}
message GetConversationsResp {
	 map<string, Conversation> conversationList = 1;
}
message SendSysMsgReq {
	optional string userId = 1;
	optional int64 msgTypeEm = 2;
	optional string msgContent = 3;
	optional string sendTime = 4;
	optional int64 msgClasEm = 5;
}
message PutConversationsReq {
	optional string id = 1;
	optional string userId = 2;
	 map<string, Conversation> conversationList = 3;
}
message PutConversationsResp {
}
message GetChatLogReq {
	optional string conversationId = 1;
	optional int64 startSendTime = 2;
	optional int64 endSendTime = 3;
	optional int64 count = 4;
	optional string msgId = 5;
}
message GetChatLogResp {
	repeated ChatLog list = 1;
}
message SetUpUserConversationReq {
	optional string sendId = 1;
	optional string recvId = 2;
	optional int64 chatType = 3;
}
message SetUpUserConversationResp {
}
message CreateGroupConversationReq {
	optional string groupId = 1;
	optional string createId = 2;
}
message CreateGroupConversationResp {
}
message ResultResp {
	 int64 code = 1;
	 string content = 2;
}
message getUserSysMsgUnreadNumReq {
	optional string userId = 1;
	optional int64 msgClasEm = 2;
}
message getUserSysMsgUnreadNumResp {
	 map<int64, int64> unread = 1;
}
message setUserSysMsgReadByClasReq {
	optional string userId = 1;
	repeated int64 clasList = 2;
}
message setUserSysMsgReadByIdReq {
	optional string userId = 1;
	repeated string msgIdList = 2;
}
message DeleteUserConversationReq {
	optional string userId = 1;
	optional string conversationId = 2;
}

	
service im {
	rpc GetChatLog(GetChatLogReq) returns (GetChatLogResp);
	rpc SetUpUserConversation(SetUpUserConversationReq) returns (SetUpUserConversationResp);
	rpc GetConversations(GetConversationsReq) returns (GetConversationsResp);
	rpc PutConversations(PutConversationsReq) returns (PutConversationsResp);
	rpc CreateGroupConversation(CreateGroupConversationReq) returns (CreateGroupConversationResp);
	rpc DeleteUserConversation(DeleteUserConversationReq) returns (ResultResp);
	rpc SendSysMsg(SendSysMsgReq) returns (ResultResp);
	rpc getUserSysMsgUnreadNum(getUserSysMsgUnreadNumReq) returns (getUserSysMsgUnreadNumResp);
	rpc setUserSysMsgReadByClas(setUserSysMsgReadByClasReq) returns (ResultResp);
	rpc setUserSysMsgReadById(setUserSysMsgReadByIdReq) returns (ResultResp);
}

